<% layout('/layouts/boilerplate') %><!-- Management Member Registration Form -->
<!-- Bootstrap 5 CDN -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container my-5">
  <form id="managementForm" enctype="multipart/form-data" method="POST" action="/management" class="bg-white p-4 rounded shadow-sm">
    <h2 class="mb-4 text-center">Be a Management Member</h2>

    <!-- 1. Profile Picture Upload -->
    <div class="mb-3">
      <label class="form-label">Profile Picture*</label>
      <input type="file" class="form-control" name="profilePicture" accept="image/*" required>
    </div>
    
    <!-- 2. Basic Personal Information -->
    <div class="mb-3">
      <label class="form-label">Full Name*</label>
      <input type="text" class="form-control" name="fullName" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Mobile Number*</label>
      <input type="tel" class="form-control" name="mobileNumber" required>
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email*</label>
      <input type="email" class="form-control" id="email" name="email" required>
      <div id="emailError" class="text-danger mt-1" style="display:none;"></div>
    </div>
    <div class="mb-3">
      <label class="form-label">Age*</label>
      <input type="number" class="form-control" name="age" required>
    </div>
    <div class="mb-3">
      <label for="gender" class="form-label">Gender*</label>
      <select class="form-select" id="gender" name="gender" required>
        <option value="">Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>
    </div>
    <div class="mb-3">
      <label class="form-label">Height</label>
      <input type="text" class="form-control" name="height">
    </div>
    <div class="mb-3">
      <label class="form-label">Current City*</label>
      <input type="text" class="form-control" name="currentCity" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Other Cities You Worked In</label>
      <input type="text" class="form-control" name="otherCities" placeholder="Comma separated">
    </div>
    <div class="mb-3">
      <label class="form-label d-block">Languages Known:</label>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="languages" id="langMarathi" value="Marathi">
        <label class="form-check-label" for="langMarathi">Marathi</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="languages" id="langHindi" value="Hindi">
        <label class="form-check-label" for="langHindi">Hindi</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="languages" id="langEnglish" value="English">
        <label class="form-check-label" for="langEnglish">English</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="languages" id="langGujarati" value="Gujarati">
        <label class="form-check-label" for="langGujarati">Gujarati</label>
      </div>
      <input type="text" class="form-control mt-2" name="otherLanguage" placeholder="Other language">
    </div>
    
    <!-- 4. Event Management Experience -->
    <div class="mb-3">
      <label class="form-label">Total Years of Experience*</label>
      <input type="number" class="form-control" name="experienceYears" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Number of Events Worked</label>
      <input type="number" class="form-control" name="eventsWorked">
    </div>
    <div class="mb-3">
      <label class="form-label d-block">Event Categories You’ve Worked In:</label>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="eventCategories" id="catWeddings" value="Weddings">
        <label class="form-check-label" for="catWeddings">Weddings</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="eventCategories" id="catCorporate" value="Corporate">
        <label class="form-check-label" for="catCorporate">Corporate</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="eventCategories" id="catPrivate" value="Private">
        <label class="form-check-label" for="catPrivate">Private</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="eventCategories" id="catConcerts" value="Concerts">
        <label class="form-check-label" for="catConcerts">Concerts</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="eventCategories" id="catCollege" value="College Events">
        <label class="form-check-label" for="catCollege">College Events</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="eventCategories" id="catOthers" value="Others">
        <label class="form-check-label" for="catOthers">Others</label>
      </div>
    </div>
    <div class="mb-3">
      <label class="form-label">Companies/Brands You’ve Worked With</label>
      <textarea class="form-control" name="companiesWorkedWith"></textarea>
    </div>
    
    <!-- 5. Department Experience -->
    <div class="mb-3">
      <label class="form-label d-block">Departments You've Worked In:</label>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depShadow" value="Shadow">
        <label class="form-check-label" for="depShadow">Shadow</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depHospitality" value="Hospitality">
        <label class="form-check-label" for="depHospitality">Hospitality</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depProduction" value="Production">
        <label class="form-check-label" for="depProduction">Production</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depShowFlow" value="Show Flow">
        <label class="form-check-label" for="depShowFlow">Show Flow</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depLogistics" value="Logistics">
        <label class="form-check-label" for="depLogistics">Logistics</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depFB" value="F&B">
        <label class="form-check-label" for="depFB">F&amp;B</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depOverall" value="Overall Management">
        <label class="form-check-label" for="depOverall">Overall Management</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depRitual" value="Ritual">
        <label class="form-check-label" for="depRitual">Ritual</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depArtist" value="Artist Coordination">
        <label class="form-check-label" for="depArtist">Artist Coordination</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depClient" value="Client Handling">
        <label class="form-check-label" for="depClient">Client Handling</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depDecor" value="Decor">
        <label class="form-check-label" for="depDecor">Decor</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depPhotography" value="Photography">
        <label class="form-check-label" for="depPhotography">Photography</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="departmentsWorked" id="depOthers" value="Others">
        <label class="form-check-label" for="depOthers">Others</label>
      </div>
    </div>
    <div class="mb-3">
      <label class="form-label">Department You Are Best At</label>
      <select class="form-select" name="bestDepartment">
        <option value="">Select</option>
        <option>Shadow</option>
        <option>Hospitality</option>
        <option>Production</option>
        <option>Show Flow</option>
        <option>Logistics</option>
        <option>F&B</option>
        <option>Overall Management</option>
        <option>Ritual</option>
        <option>Artist Coordination</option>
        <option>Client Handling</option>
        <option>Decor</option>
        <option>Photography</option>
        <option>Others</option>
      </select>
    </div>
    
    <!-- 6. Skills -->
    <div class="mb-3">
      <label class="form-label d-block">Skill Highlights:</label>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillTeam" value="Team Leadership">
        <label class="form-check-label" for="skillTeam">Team Leadership</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillEvent" value="Event Execution">
        <label class="form-check-label" for="skillEvent">Event Execution</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillStage" value="Stage Management">
        <label class="form-check-label" for="skillStage">Stage Management</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillClient" value="Client Engagement">
        <label class="form-check-label" for="skillClient">Client Engagement</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillGround" value="Ground Supervision">
        <label class="form-check-label" for="skillGround">Ground Supervision</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillCoordination" value="Coordination">
        <label class="form-check-label" for="skillCoordination">Coordination</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillProduction" value="Production Planning">
        <label class="form-check-label" for="skillProduction">Production Planning</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillVendor" value="Vendor Handling">
        <label class="form-check-label" for="skillVendor">Vendor Handling</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillProblem" value="Problem Solving">
        <label class="form-check-label" for="skillProblem">Problem Solving</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillTime" value="Time Management">
        <label class="form-check-label" for="skillTime">Time Management</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="skills" id="skillCommunication" value="Communication">
        <label class="form-check-label" for="skillCommunication">Communication</label>
      </div>
    </div>
    <div class="mb-3">
      <label class="form-label">Describe Your Working Style / Signature Approach</label>
      <textarea class="form-control" name="workingStyle"></textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Instagram Profile Link</label>
      <input type="url" class="form-control" name="instagram">
    </div>
    <div class="form-check mb-2">
      <input class="form-check-input" type="checkbox" name="agreeContact" id="agreeContact" required>
      <label class="form-check-label" for="agreeContact">
        I Agree to Be Contacted for Management Opportunities by VH Events*
        <a href="/agreement#management-agreement-content">Read Agreement</a>
      </label>
    </div>
    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" name="confirmTruth" id="confirmTruth" required>
      <label class="form-check-label" for="confirmTruth">
        I Confirm All the Information Above is True*
      </label>
    </div>
    <button type="submit" class="btn btn-primary w-100">Submit My Management Profile</button>
  </form>
</div>

<script>
  // Replace with the actual user email from server
  const currentUserEmail = "<%= currentUser.email %>";

  document.getElementById('email').addEventListener('input', function() {
    const enteredEmail = this.value.trim();
    const errorDiv = document.getElementById('emailError');
    if (enteredEmail && enteredEmail !== currentUserEmail) {
      errorDiv.textContent = "Email must match your account email.";
      errorDiv.style.display = "block";
    } else {
      errorDiv.textContent = "";
      errorDiv.style.display = "none";
    }
  });

  // Optional: Prevent form submit if emails don't match
  document.querySelector('form').addEventListener('submit', function(e) {
    const enteredEmail = document.getElementById('email').value.trim();
    if (enteredEmail !== currentUserEmail) {
      e.preventDefault();
      document.getElementById('emailError').textContent = "Email must match your account email.";
      document.getElementById('emailError').style.display = "block";
    }
  });
</script>

